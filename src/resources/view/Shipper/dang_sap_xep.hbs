<div class="container mt-4">
  {{#if hasOptimizedOrders}}
    <h3 class="mb-3">ï¿½ï¸ Lá»™ trÃ¬nh Giao hÃ ng Tá»‘i Æ°u</h3>
    <div class="alert alert-success mb-4" role="alert">
      âœ…
      <strong>ÄÃ£ tá»± Ä‘á»™ng tá»‘i Æ°u!</strong>
      Admin Ä‘Ã£ sáº¯p xáº¿p
      {{optimizedCount}}
      Ä‘Æ¡n hÃ ng theo lá»™ trÃ¬nh ngáº¯n nháº¥t. HÃ£y giao theo Ä‘Ãºng thá»© tá»± Ä‘á»ƒ tiáº¿t kiá»‡m
      thá»i gian! ğŸšš
    </div>
  {{else}}
    <h3 class="mb-4">ğŸ“¦ ÄÆ¡n hÃ ng Ä‘ang sáº¯p xáº¿p</h3>
  {{/if}}

  {{#if orders.length}}
    <div class="table-responsive shadow-sm rounded">
      <table class="table table-striped table-hover align-middle">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Thá»© tá»± giao hÃ ng</th>
            <th scope="col">ThÃ´ng tin Ä‘iá»ƒm Ä‘áº¿n</th>
            <th scope="col">Tráº¡ng thÃ¡i</th>
            <th scope="col" style="width: 220px;">HÃ nh Ä‘á»™ng</th>
          </tr>
        </thead>
        <tbody>
          {{#each orders}}
            <tr>
              <td>
                {{#if this.routeOrder}}
                  {{#if (eq this.routeOrder 0)}}
                    <span class="badge bg-info fs-6">ğŸ  Kho xuáº¥t phÃ¡t</span>
                  {{else}}
                    <span class="badge bg-primary fs-6">ğŸ“ Äiá»ƒm
                      {{this.routeOrder}}</span>
                  {{/if}}
                {{else}}
                  <span class="badge bg-secondary">â³ ChÆ°a sáº¯p xáº¿p</span>
                {{/if}}
              </td>
              <td>
                <strong>MÃ£ Ä‘Æ¡n: {{this._id}}</strong><br />
                <strong>{{this.name}}</strong>
                -
                {{this.phone}}<br />
                <small class="text-muted">ğŸ“ {{this.address}}</small>
              </td>
              <td>
                <span class="badge bg-warning text-dark">{{this.status}}</span>
                {{#if this.optimizedAt}}
                  <br /><small class="text-success">âš¡ ÄÃ£ tá»‘i Æ°u</small>
                {{/if}}
              </td>
              <td>
                <a
                  href="/shipper/maps/{{this._id}}"
                  class="btn btn-sm btn-outline-primary mb-1"
                  target="_blank"
                  title="Xem báº£n Ä‘á»“ chá»‰ Ä‘Æ°á»ng"
                >
                  ğŸ—ºï¸ Chá»‰ Ä‘Æ°á»ng
                </a>
                <form
                  action="/shipper/confirm/{{this._id}}"
                  method="POST"
                  style="display: inline;"
                >
                  <button
                    type="submit"
                    class="btn btn-sm btn-success"
                    onclick="return confirm('XÃ¡c nháº­n nháº­n Ä‘Æ¡n hÃ ng nÃ y Ä‘á»ƒ báº¯t Ä‘áº§u giao hÃ ng?')"
                    title="Nháº­n Ä‘Æ¡n vÃ  báº¯t Ä‘áº§u giao hÃ ng"
                  >
                    âœ… Nháº­n Ä‘Æ¡n
                  </button>
                </form>
              </td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </div>

    {{#if hasOptimizedOrders}}
      <div class="alert alert-info mt-3" role="alert">
        <i class="fas fa-lightbulb"></i>
        <strong>Máº¹o:</strong>
        Giao hÃ ng theo Ä‘Ãºng thá»© tá»± tá»«
        <strong>Äiá»ƒm 1 â†’ Äiá»ƒm 2 â†’ Äiá»ƒm 3...</strong>
        Ä‘á»ƒ Ä‘i Ä‘Æ°á»ng ngáº¯n nháº¥t vÃ  tiáº¿t kiá»‡m nhiÃªn liá»‡u!
      </div>
    {{/if}}
  {{else}}
    <div class="text-center py-5">
      <i class="fas fa-box-open fa-3x text-muted mb-3"></i>
      <h5 class="text-muted">ğŸš« ChÆ°a cÃ³ Ä‘Æ¡n hÃ ng nÃ o Ä‘Æ°á»£c gÃ¡n</h5>
      <p class="text-muted">Admin sáº½ gÃ¡n Ä‘Æ¡n hÃ ng cho báº¡n sá»›m nháº¥t cÃ³ thá»ƒ.</p>
    </div>
  {{/if}}
</div>

<!-- Auto-Optimization: KhÃ´ng cáº§n JavaScript phá»©c táº¡p ná»¯a! -->
<script>
  // ThÃªm tooltips cho UX tá»‘t hÆ¡n document.addEventListener('DOMContentLoaded',
  function() { // Bootstrap tooltips náº¿u cÃ³ if (typeof bootstrap !== 'undefined'
  && bootstrap.Tooltip) { var tooltipTriggerList =
  [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')); var
  tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) { return new
  bootstrap.Tooltip(tooltipTriggerEl); }); } });
</script>