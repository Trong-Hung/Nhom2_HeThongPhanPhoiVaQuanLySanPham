<form action="/admin/taotaikhoan" method="POST" class="mx-auto p-4 shadow-sm rounded" style="max-width: 480px; background: #fff;">
  <h3 class="mb-4">T·∫°o t√†i kho·∫£n m·ªõi</h3>

  <div class="mb-3">
    <label for="name" class="form-label">T√™n</label>
    <input type="text" id="name" name="name" class="form-control" required placeholder="Nh·∫≠p t√™n ƒë·∫ßy ƒë·ªß">
  </div>

  <div class="mb-3">
    <label for="email" class="form-label">Email</label>
    <input type="email" id="email" name="email" class="form-control" required placeholder="example@gmail.com">
  </div>

  <div class="mb-3">
    <label for="password" class="form-label">M·∫≠t kh·∫©u</label>
    <input type="password" id="password" name="password" class="form-control" required placeholder="Nh·∫≠p m·∫≠t kh·∫©u">
  </div>

  <div class="mb-3">
    <label for="role" class="form-label">Vai tr√≤</label>
    <select id="role" name="role" class="form-select" onchange="toggleRegion()">
      <option value="user">User</option>
      <option value="shipper">Shipper</option>
      <option value="admin">Admin</option>
    </select>
  </div>

  <div class="mb-3" id="regionContainer" style="display: none;">
    <label for="region" class="form-label">V√πng mi·ªÅn</label>
    <select id="region" name="region" class="form-select">
      <option value="Mi·ªÅn B·∫Øc">Mi·ªÅn B·∫Øc</option>
      <option value="Mi·ªÅn Trung">Mi·ªÅn Trung</option>
      <option value="Mi·ªÅn Nam">Mi·ªÅn Nam</option>
    </select>
  </div>

  <div class="mb-3" id="warehouseContainer" style="display: none;">
    <label for="warehouseId" class="form-label">üè™ Kho ƒë∆∞·ª£c ph√¢n c√¥ng</label>
    <select id="warehouseId" name="warehouseId" class="form-select">
      <option value="">-- Ch·ªçn kho --</option>
      {{#each warehouses}}
        <option value="{{this._id}}">{{this.name}} ({{this.address}})</option>
      {{/each}}
    </select>
  </div>

  <button type="submit" class="btn btn-primary w-100">T·∫°o t√†i kho·∫£n</button>
</form>

<script>
  function toggleRegion() {
    const role = document.getElementById("role").value;
    const regionContainer = document.getElementById("regionContainer");
    const warehouseContainer = document.getElementById("warehouseContainer");
    
    if (role === "shipper") {
      regionContainer.style.display = "block";
      warehouseContainer.style.display = "block";
    } else {
      regionContainer.style.display = "none";
      warehouseContainer.style.display = "none";
    }
  }
  // G·ªçi m·ªôt l·∫ßn khi trang t·∫£i ƒë·ªÉ ƒë·∫£m b·∫£o tr·∫°ng th√°i ƒë√∫ng
  document.addEventListener("DOMContentLoaded", toggleRegion);
</script>
