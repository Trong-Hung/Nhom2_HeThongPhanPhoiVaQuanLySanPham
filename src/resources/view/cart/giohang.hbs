<div class="mt-4 container">
  <h3 class="text-center mb-4">üõí Gi·ªè h√†ng c·ªßa b·∫°n</h3>

  {{#if cart.items.length}}
    <div class="row gx-2 px-2">
      {{#each cart.items}}
        <div class="col-sm-6 col-md-4 col-lg-3 mb-4">
          <div class="card h-100 shadow-sm">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title">{{this.name}}</h5>
              <p class="card-text text-danger fw-bold">{{formatCurrency this.price}}</p>

              <div class="d-flex align-items-center justify-content-between mb-2">
                <form method="POST" action="/cart/decrease/{{this._id}}" style="display: inline;">
                  <button class="btn btn-sm btn-outline-secondary">-</button>
                </form>
                <span>{{this.quantity}}</span>
                <form method="POST" action="/cart/increase/{{this._id}}" style="display: inline;">
                  <button class="btn btn-sm btn-outline-secondary">+</button>
                </form>
              </div>

              <p class="text-muted mb-2">Th√†nh ti·ªÅn: <strong>{{multiply this.price this.quantity}}</strong></p>

              <form action="/cart/remove/{{this._id}}" method="POST" class="mt-auto">
                <button 
                  type="submit" 
                  class="btn btn-danger btn-sm w-100"
                  onclick="return confirm('B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a s·∫£n ph·∫©m n√†y kh·ªèi gi·ªè h√†ng?')"
                >X√≥a kh·ªèi gi·ªè</button>
              </form>
            </div>
          </div>
        </div>
      {{/each}}
    </div>

    <div class="mt-4 text-end pe-3">
      <p><strong>T·ªïng s·ªë l∆∞·ª£ng:</strong> {{totalQuantity}}</p>
      <p><strong>T·ªïng ti·ªÅn:</strong> {{formatCurrency totalPrice}}</p>
      <a href="/cart/payment" class="btn btn-success">Ti·∫øn h√†nh thanh to√°n</a>
    </div>
  {{else}}
    <p class="text-center">üõí Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng.</p>
  {{/if}}
</div>
